## COMMENTS CRUD

### Create a Comment (CREATE)

Creates and returns a new comment for an expense specified by expense ID.

**Require Authentication**: true

* **Request**
  * **Method**: POST
  * **URL**: `/api/expenses/:expenseId/comments`
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "content": "Insert comment here"
    }
    ```

* **Successful Response**
  * **Status Code**: 201
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "id": 1,
      "content": "Insert comment here",
      "userId": 1,
      "expenseId": 1,
      "created_at": "2024-07-24 20:00:00",
      "updated_at": "2024-07-24 20:00:00"
    }
    ```

* **Error Response: Validation Error**
  * **Status Code**: 400
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Validation error", // error message generated by Sequelize
      "errors": {
        "content": "Content is required"
      }
    }
    ```

### View All Comments on an Expense (READ)

Returns all the comments belonging to a specific expense ID.

**Require Authentication**: true

* **Request**
  * **Method**: GET
  * **URL**: `/api/expenses/:expenseId/comments`
  * **Body**: None

* **Successful Response**
  * **Status Code**: 200
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "comments": [
        {
          "id": 1,
          "content": "I'm not paying for your beer dude",
          "userId": 1,
          "created_at": "2024-07-24 20:00:00",
          "updated_at": "2024-07-24 20:00:00",
          "user": {
            "id": 1,
            "username": "dereklin",
            "firstName": "Derek",
            "lastName": "Lin"
          }
        },
        {
          "id": 2,
          "content": "Another comment",
          "userId": 2,
          "created_at": "2024-07-24 21:00:00",
          "updated_at": "2024-07-24 21:00:00",
          "user": {
            "id": 2,
            "username": "janedoe",
            "firstName": "Jane",
            "lastName": "Doe"
          }
        }
      ]
    }
    ```

### Update a Comment (UPDATE)

Updates and returns an existing comment.

**Require Authentication**: true
**Require Proper Authorization**: Comment must belong to the current user.

* **Request**
  * **Method**: PUT
  * **URL**: `/api/comments/:id`
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "content": "This is an updated comment"
    }
    ```

* **Successful Response**
  * **Status Code**: 200
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "id": 1,
      "content": "This is an updated comment",
      "userId": 1,
      "expenseId": 1,
      "created_at": "2024-07-24 20:00:00",
      "updated_at": "2024-07-24 20:00:00"
    }
    ```

* **Error Response: Validation Error**
  * **Status Code**: 400
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Validation error", // error message generated by Sequelize
      "errors": {
        "content": "Content is required"
      }
    }
    ```

* **Error Response: Comment Not Found**
  * **Status Code**: 404
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Comment could not be found"
    }
    ```

* **Error Response: Authorization Error**
  * **Status Code**: 403
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Delete a Comment (DELETE)

Deletes an existing comment.

**Require Authentication**: true
**Require Proper Authorization**: Comment must belong to the current user.

* **Request**
  * **Method**: DELETE
  * **URL**: `/api/comments/:id`
  * **Body**: None

* **Successful Response**
  * **Status Code**: 200
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Successfully deleted"
    }
    ```

* **Error Response: Comment Not Found**
  * **Status Code**: 404
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Comment could not be found"
    }
    ```

* **Error Response: Authorization Error**
  * **Status Code**: 403
  * **Headers**:
    * `Content-Type: application/json`
  * **Body**:

    ```json
    {
      "message": "Forbidden"
    }
    ```
