## COMMENTS CRUD

### Create a Comment (CREATE)

Creates and return a new comment for an expense specified by expense id

Require Authentication: true
* Request
  * Method: POST
  * URL: /api/expenses/:expenseId/comments
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "content": "Insert comment here"
    }
    ```
* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:
  
    ```json
    {
        "id": 1,
        "content": "Insert comment here",
        "userId": 1,
        "expenseId": 1,
        "created_at": "2024-07-24 20:00:00",
        "updated_at": "2024-07-24 20:00:00"
    }
    ```
    
    
* Error Response: Validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:
  
   ```json
    {
      "message": "Validation error", // error message generated by Sequelize
      "errors": {
        "content": "Content is required"
      }
    }
    ```
  

### View all comments on an expense (READ)

Returns all the comments belonging to a specific expense id

* Require Authentication: true
* Request
  * Method: GET
  * URL: /api/expenses/:expenseId/comments
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      [
        "id": 1,
        "content": "I'm not paying for your beer dude" ,
        "userId": 1,
        "created_at": "2024-07-24 20:00:00",
        "updated_at": "2024-07-24 20:00:00",
        "Users": {
            "id": 1,
            "username": "dereklin",
            "firstName": "Derek",
            "lastName": "Lin"
        }
      ],
      
    }
    ```
### Update a Comment (UPDATE)

Update and return an existing comment

* Require Authentication: true
* Require proper authorization: Comment must belong to the current user
* Request
  * Method: PUT
  * URL: /api/comments/:id
  * Headers:
    * Content-Type: application/json
  * Body:
  
    ```json
    {
    "content": "This is an updated comment"
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:
  
    ```json
    {
    "id": 1,
    "content": "This is an updated comment",
    "userId": 1,
    "expenseId": 1,
    "created_at": "2024-07-24 20:00:00",
    "updated_at": "2024-07-24 20:00:00",
    }
    ```

* Error Response: Body Validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:
  
   ```json
    {
      "message": "Validation error", // error message generated by Sequelize
      "errors": {
        "content": "Content is required"
      }
    }
    ```

* Error response: Couldn't find a Comment with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Comment could not be found"
    }
    ```
    
* Error Response: Authorization error (user not the comment owner)
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:
  
    ```json
    {
      "message": "Forbidden"
    }
    ```

### Delete a Comment

Delete an existing comment

* Require Authentication: true
* Require proper authorization: Comment must belong to the current user
* Request
  * Method: DELETE
  * URL: /api/comments/:id
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:
    ```json
    {
      "message": "Successfully deleted"
    }
    ```
    
* Error response: Couldn't find a Comment with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Comment could not be found"
    }
    ```

* Error Response: Authorization error (user not the comment owner)
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:
  
    ```json
    {
      "message": "Forbidden."
    }
    ```
